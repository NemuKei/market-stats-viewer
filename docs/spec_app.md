# spec_app — UI / 表示仕様

## 目的
宿泊旅行統計調査の「延べ宿泊者数（全体/国内/海外）」を、都道府県×月次で表・グラフ表示する。

## 画面
- Streamlit単一ページ（`app.py`）

## 入力データ
- SQLite: `data/market_stats.sqlite`
- メタ: `data/meta.json`（存在する場合のみ表示）

## 表示要素

### ヘッダ
- タイトル：宿泊旅行統計調査：延べ宿泊者数（全体 / 国内 / 海外）
- メタ情報（任意、`meta.json` がある場合）
  - 最終取得日時（UTC）
  - 範囲（min_ym〜max_ym）
  - rows

### フィルタ
- 地域：全国（pref_code=00）＋都道府県（01〜47）
- 期間：開始年月 / 終了年月（ymリストから選択）
- 表示モード：表＋グラフ / 表のみ / グラフのみ

### 表
- 列：年月 / 全体 / 国内 / 海外
- ym昇順

### グラフ
- 折れ線（3系列）
- x：年月（ym）
- y：延べ宿泊者数

### データ欠損時の挙動
- `data/market_stats.sqlite` が無い、または読み込み結果が空の場合：
  - エラーメッセージを表示し、更新スクリプト実行を促す
  - アプリは例外で落とさない

### 出典表示
- 画面下部に固定で出典を表示（例：観光庁「宿泊旅行統計調査」）

## 非目標（MVPではやらない）
- ピボットの完全再現（複数軸の複雑な集計）
- ダウンロード機能（CSV出力など）
- 認証/権限（public想定）